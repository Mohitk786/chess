(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{714:(e,a,l)=>{"use strict";l.d(a,{default:()=>d});var s=l(2668),t=l(8304),r=l(7951),n=l(2406),i=l(9786);function d(){let[e,a]=(0,t.useState)(null),[l,d]=(0,t.useState)("white"),[c,o]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null),b=(0,i.useRouter)(),g=async()=>{o(!0),h(null);try{let e=await r.A.post("".concat(n.C,"/game/create"),{color:l},{withCredentials:!0});a(e.data.id)}catch(a){if(r.A.isAxiosError(a)){var e,s;h((null===(s=a.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.error)||"Failed to create game")}else h("An unexpected error occurred")}finally{o(!1)}};return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Chess Game"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"mr-2 text-lg",children:"Choose Color:"}),(0,s.jsxs)("select",{value:l,onChange:e=>d(e.target.value),className:"p-2 bg-gray-800 border border-gray-600 rounded",children:[(0,s.jsx)("option",{value:"white",children:"White"}),(0,s.jsx)("option",{value:"black",children:"Black"})]})]}),(0,s.jsx)("button",{onClick:g,disabled:c,className:"px-6 py-2 bg-blue-500 rounded-lg hover:bg-blue-600 transition disabled:bg-gray-700",children:c?"Creating...":"Create Game"}),e&&(0,s.jsxs)("div",{className:"mt-6 p-4 bg-green-700 rounded-lg text-lg",children:["Game ID: ",(0,s.jsx)("span",{className:"font-bold",children:e})]}),u&&(0,s.jsx)("div",{className:"mt-4 text-red-400",children:u}),(0,s.jsx)("button",{onClick:()=>b.push("/"),disabled:c,className:"px-6 py-2 bg-blue-500 rounded-lg hover:bg-blue-600 transition disabled:bg-gray-700",children:"join"})]})}},2406:(e,a,l)=>{"use strict";l.d(a,{C:()=>n,Z:()=>i,cn:()=>r});var s=l(5227),t=l(8996);function r(){for(var e=arguments.length,a=Array(e),l=0;l<e;l++)a[l]=arguments[l];return(0,t.QP)((0,s.$)(a))}let n="http://51.20.79.155:8000/api",i="ws://51.20.79.155:5000"},5731:(e,a,l)=>{Promise.resolve().then(l.bind(l,714))}},e=>{var a=a=>e(e.s=a);e.O(0,[522,52,128,971,358],()=>a(5731)),_N_E=e.O()}]);